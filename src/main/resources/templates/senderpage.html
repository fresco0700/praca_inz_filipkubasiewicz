<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Panel administratora</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/menu.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/admin.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/sendersms.css}">

</head>

<body>
<nav>
    <div class="header">
        <img id="logo" th:src="@{/img/1.png}" alt="logo-houston">
    </div>
    <div>
        <button class="back-button" onclick="location.href='/';">Dashboard</button>
    </div>
    <div class="nav-right">
        <span>Zalogowano jako: <span class="bold" th:text="${#authentication.name}">AnonymusUser</span></span>
    </div>
</nav>
<div class="adder-menu">
    <h2>Dodaj numer</h2>
    <div class="rounded-box" style="align-items: center; gap: 10px;">
        <form action="/sendersms/add-contact" method="post" id="post-form">
        <input type="text" placeholder="Imię" id="name" name="name" required/>
        <input type="text" placeholder="Nazwisko" id="surname" name="surname" required/>
        <input type="text" placeholder="Numer" id="number" name="number" required/>
        <input type="text" placeholder="Firma" id="company" name="company" required/>
        <input type="text" placeholder="Adres E-mail" id="email" name="email" required/>

        <button type="submit" class="blue-button">Dodaj</button>
        </form>
    </div>
</div>

<div class="sender-menu">
    <h2>Wysyłka SMS</h2>
    <form action="/sendersms/sendsms" id="smsForm" method="post">
        <div style="display: flex; gap: 20px;">
            <div class="rounded-box" style="flex: 1;">
                <label>Treść SMS:</label>
                <textarea name="message" rows="4" cols="40" style="width: 100%;"></textarea>
                <label style="margin-top: 15px;">Numery docelowe:</label>
                <textarea id="selectedNumbers" name="numbers" rows="4" cols="40" readonly style="width: 100%;"></textarea>
            </div>
        </form>

            <div class="rounded-box" style="flex: 1;">
                <label>Wybierz numer:</label>
                <ul id="numberList">
                    <li th:each="contact : ${contacts}" th:data-phone="${contact.phoneNumber}" th:onclick="toggleNumber(this)">
                        <span th:text="|${contact.name} ${contact.surname} - ${contact.phoneNumber} - ${contact.company} - ${contact.email}|"></span>
                        <form action="/sendersms/delete-contact" method="post" style="display: inline;">
                            <input type="hidden" name="id" th:value="${contact.id}"/>
                            <input type="image" th:src="@{/img/usun.png}" alt="Usuń" />
                        </form>
                    </li>
                </ul>
            </div>
        </div>
        <div class="button-menu">
            <input id="submitSmsBtn" class="blue-button" type="button" value="Wyślij SMS" style="margin-right: 10px"/>
            <input id="submittestSmsBtn" class="blue-button" type="button" value="Sprawdź"/>
        </div>

</div>

<script type="text/javascript" th:src="@{/js/darkmode.js}"></script>
<script type="text/javascript" th:src="@{/js/sendersms.js}"></script>
<script type="text/javascript" th:src="@{/js/menu.js}"></script>
</body>
</html>
